<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <script src="./vue/vue.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./index2.css">
</head>

<body style="background-color: #1b1a1a;">
  <div id="main-vue">
  <div class="container-fluid text-white">
    <div class="row">
      <div class="col-sm-8 offset-4">
        <img src="./img_novo/logoselettra.png" alt="" height="150">
      </div>
      <div class="col-sm-6 my-5">
        <div class="col-sm-12">
          <div class="row">
            <div class="col-sm-12">
              <div class="row">
                <div v-if="screenOfHelp == 0" class="batteryHelpOff col-sm-2">
                  <strong>BATERIA: </strong>
                </div>
                <div v-if="screenOfHelp == 1" class="batteryHelpOn col-sm-2">
                  <strong>BATERIA: </strong>
                </div>
                <div class="col-sm-4">
                  <div class="progress">
                    <div :class="'progress-bar progress-bar-striped bg-' + colorPercentBattery" role="progressbar" :style="{ 'width': percentBattery + '%' }" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
                <div class="percetBattery col-sm-2 text-center">
                 <strong> {{ percentBattery }} %</strong>
                </div>
              </div>
            </div>
            <div class="statusJob col-sm-12">
              <div class="row">
                <div class="col-sm-2"> <strong>  STATUS: </strong> </div>
                <div :class="'col-sm-10 text-' + statusColorJob"> <strong> {{ statusJobDesc }} </strong></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-1 offset-sm-5 my-5">
        <div class="timmer">
          <div class="row">
            <div class="col-sm-12 text-center">
              <i class="fa fa-clock-o fa-4x" aria-hidden="true"></i>  
            </div>
            <div class="col-sm-12 text-center">
              <strong><u class="vlrTimmer">{{ vlrTimmer }}</u> Minutos</strong> 
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-12">
        <div class="options">
          <div class="container">
            <div class="card">
              <div class="card-body">
                  <div class="row">
                    <div v-if="screenOfHelp == 0" class="col-sm-4">
                      <button type="button" v-on:click="processTo('play')">
                        <img src="./img/play.jpg" alt="" height="450">
                      </button>
                    </div>
                    <div v-if="screenOfHelp == 1" class="col-sm-4">
                      <div class="card">
                        <div class="screenHelpOptionsOn card-body text-center align-items-center d-flex justify-content-center">
                          <strong style="color: #D48F04; font-size: large;"> INICIAR A EXECUÇÃO DA TAREFA OBS: O ROBÔ DEVE ESTAR NO MODO AUTOMATICO</strong>
                        </div>
                      </div>
                    </div>
                    <div v-if="screenOfHelp == 0" class="col-sm-4">
                      <button type="button" v-on:click="processTo('pause')">
                        <img src="./img/stop.jpg" alt="" height="450" width="344">
                      </button>
                    </div>
                    <div v-if="screenOfHelp == 1" class="col-sm-4">
                      <div class="card">
                        <div class="screenHelpOptionsOn card-body text-center align-items-center d-flex justify-content-center">
                          <strong  style="color: #D48F04; font-size: large;"> 
                            PAUSA A EXECUÇÃO DA TAREFA OBS: O ROBÔ DEVE ESTAR NO MODO AUTOMÁTICO E EXECUTANDO UMA TAREFA
                          </strong>
                        </div>
                      </div>
                    </div>
                    <div v-if="screenOfHelp == 0" class="col-sm-4">
                      <button type="button" v-on:click="processTo('down')">
                        <img src="./img/outro.jpg" alt="" height="450">
                      </button>
                    </div>
                    <div v-if="screenOfHelp == 1" class="col-sm-4">
                      <div class="card">
                        <div class="screenHelpOptionsOn card-body text-center align-items-center d-flex justify-content-center">
                          <strong  style="color: #D48F04; font-size: large;"> 
                            CANCELA A EXECUÇÃO DA TAREFA OBS: O ROBÔ DEVE ESTAR NO MODO AUTOMÁTICO E EXECUTANDO UMA TAREFA
                          </strong>
                        </div>
                      </div>
                    </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-12 my-5">
        <div class="row">
          <div v-if="screenOfHelp == true" class="col-sm-1">
            <i type="button" v-on:click="chageStatusScreenHelp(0)" class="btn fa fa-question-circle-o fa-4x" aria-hidden="true"></i>
          </div>
          <div v-if="screenOfHelp == false" class="col-sm-1">
            <i type="button" v-on:click="chageStatusScreenHelp(1)" class="btn fa fa-question-circle-o fa-4x" aria-hidden="true"></i>
          </div>
          <div class="col-sm-4 offset-3 text-center">
            <div class="row">
              <div  v-if="topicMode == 'manual'" class="col-sm-4" style="font-size: xx-large;">
                <strong class="text-danger">MANUAL</strong>
              </div>
              <div v-else class="col-sm-4" style="font-size: xx-large;">
                <strong>MANUAL</strong>
              </div>
              <div class="col-sm-4">
                <div v-if="topicMode == 'automatic'">
                  <button type="button" v-on:click="changeMode('manual')" class="btn btn-link" style="color: #D48F04"><i class="fa fa-toggle-on fa-3x"></i></button>
                </div>
                <div v-else>
                  <button type="button" v-on:click="changeMode('automatic')" class="btn btn-link" style="color: #D48F04"><i class="fa fa-toggle-off fa-3x"></i></button>
                </div>
              </div>
              <div  v-if="topicMode == 'automatic'" class="col-sm-4" style="font-size: xx-large;">
                <strong class="text-danger">AUTOMATICO</strong>
              </div>
              <div v-else class="col-sm-4" style="font-size: xx-large;">
                <strong>AUTOMATICO</strong>
              </div>
            </div>
          </div>
          <div class="col-sm-1 offset-3">
            <img type="button" class="btn" v-on:click="redirectToControl()" src="./img_novo/controle.png" alt="" height="100" style="position: relative; bottom: 18px;">
          </div>
        </div>
      </div>
    </div>
  </div>    
</div>
</body>
<script>
  var app = new Vue({ 
    el: '#main-vue',
    data: {
      message: 'Olá Vue!',
      vlrTimmer: 60,
      percentBattery: 30,
      colorPercentBattery: '',
      statusJobDesc: '',
      statusColorJob: '',
      topicStatusJob: 'down',
      topicMode: 'automatic',
      screenOfHelp: 0,
    },
    mounted() {
      this.verifyPercentBattery();
      this.verifyStatusJob();
    },
    updated() {
      this.screenOfHelp;
    },
    methods: {
      verifyPercentBattery(){
        if (this.percentBattery <= 15) {
            this.colorPercentBattery = 'danger';
        }
        if (this.percentBattery >= 16 && this.percentBattery <= 45) {
            this.colorPercentBattery = 'warning';
        }
        if (this.percentBattery >= 46 && this.percentBattery <= 65) {
            this.colorPercentBattery = 'info';
        }
        if (this.percentBattery >= 66) {
            this.colorPercentBattery = 'success';
        }
      },
      verifyStatusJob(){
        if (this.topicStatusJob == 'play'){
            this.statusJobDesc = "EXECUTANDO";
            this.statusColorJob = "info";
        }
        if (this.topicStatusJob == 'pause'){
            this.statusJobDesc = "PARADO";
            this.statusColorJob = "warning";
        }
        if (this.topicStatusJob == 'down'){
            this.statusJobDesc = "DISPONIVEL";
            this.statusColorJob = "success";
        }
      },
      processTo(typeTopic)
      {
        this.topicStatusJob = typeTopic;
        this.verifyStatusJob();
      },
      changeMode(mode)
      {
        this.topicMode = mode;
      },
      redirectToControl(){
        window.location.href = "./joystick.html";
      },
      chageStatusScreenHelp(isToHelp){
        if (isToHelp == 0) {
            this.screenOfHelp = false;
        }
        if (isToHelp == 1) {
            this.screenOfHelp = true;
        }
      },
    }
  })
</script>
</html>
